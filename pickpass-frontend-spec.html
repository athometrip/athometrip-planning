
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>픽패스 프론트엔드 개발 사양 - 앳홈트립</title>
    <style>
        @import url('https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/variable/woff2/SUIT-Variable.css');
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'SUIT Variable', 'Pretendard', -apple-system, BlinkMacSystemFont, sans-serif; line-height: 1.7; color: #191f28; background: linear-gradient(to bottom, #f7f9fc 0%, #ffffff 100%); min-height: 100vh; }
        .container { max-width: 900px; margin: 0 auto; padding: 40px 20px 80px; }
        header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 48px 40px; border-radius: 20px; margin-bottom: 40px; box-shadow: 0 10px 40px rgba(102, 126, 234, 0.2); }
        h1 { font-size: 2.5em; font-weight: 800; color: white; margin-bottom: 16px; letter-spacing: -1px; line-height: 1.3; }
        .description { font-size: 1.1em; color: rgba(255, 255, 255, 0.95); line-height: 1.7; letter-spacing: -0.3px; }
        .section { background: white; border-radius: 16px; padding: 40px; margin-bottom: 24px; box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06); border: 1px solid rgba(0, 0, 0, 0.05); }
        h2 { font-size: 1.75em; font-weight: 800; color: #191f28; margin-bottom: 28px; letter-spacing: -0.8px; padding-bottom: 16px; border-bottom: 3px solid #667eea; }
        h3 { font-size: 1.35em; font-weight: 700; color: #191f28; margin-top: 32px; margin-bottom: 16px; letter-spacing: -0.5px; }
        p, li { color: #4e5968; line-height: 1.8; margin-bottom: 10px; letter-spacing: -0.3px; }
        ul, ol { margin-left: 24px; margin-bottom: 20px; }
        code { background-color: #f0f2f5; padding: 0.2em 0.4em; margin: 0; font-size: 85%; border-radius: 3px; }
        pre { background-color: #f0f2f5; padding: 1em; border-radius: 8px; overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; margin: 28px 0; }
        table th, table td { padding: 14px; text-align: left; border-bottom: 1px solid #e5e8eb; }
        table th { background-color: #f7f9fc; font-weight: 600; }
        .info-box { background: #f7f9fc; border-left: 4px solid #667eea; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .changelog-item { margin-bottom: 12px; padding-left: 20px; border-left: 3px solid #667eea; }
        footer { text-align: center; padding: 40px 20px; color: #8b95a1; font-size: 0.875em; margin-top: 60px; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>픽패스 프론트엔드 개발 사양</h1>
            <p class="description">사용자에게 제공되는 픽패스 서비스의 화면 구성, 사용자 플로우, UI 컴포넌트, API 연동 및 상태 관리에 대한 기술 사양을 정의합니다.</p>
        </header>

        <section class="section" id="table-of-contents">
            <h2>목차</h2>
            <ol>
                <li><a href="#screen-overview">1. 화면 개요</a></li>
                <li><a href="#user-flow">2. 사용자 플로우 및 인터랙션</a></li>
                <li><a href="#ui-components">3. 주요 UI 컴포넌트 명세</a></li>
                <li><a href="#api-integration">4. API 연동</a></li>
                <li><a href="#state-management">5. 상태 관리</a></li>
                <li><a href="#changelog">6. 변경 이력</a></li>
            </ol>
        </section>

        <section class="section">
            <h2 id="screen-overview">1. 화면 개요</h2>
            <p>사용자가 픽패스를 구매하고 사용하는 과정에서 마주하는 주요 화면들에 대한 명세입니다.</p>
            
            <h3 id="screen-intro">1.1. 픽패스 소개 및 구매 페이지</h3>
            <p>사용자가 픽패스의 가치를 인지하고, 원하는 옵션을 선택하여 구매를 시작하는 페이지입니다.</p>
            <ul>
                <li><strong>핵심 목표:</strong> DIY '픽패스'의 개념과 장점을 명확히 전달하여 구매 전환율을 높입니다.</li>
                <li><strong>주요 기능:</strong>
                    <ul>
                        <li>픽(PICK) 개수 선택 (최소 2개 ~ 최대 12개)</li>
                        <li>성인/어린이 수량 선택</li>
                        <li>프리미엄 플러스 옵션 선택</li>
                        <li>선택에 따른 실시간 가격 변동 표시</li>
                        <li>구매하기 버튼</li>
                    </ul>
                </li>
            </ul>

            <h3 id="screen-my-pass">1.2. 내 픽패스 관리 페이지</h3>
            <p>사용자가 구매한 픽패스의 상태를 확인하고, 상품을 선택(담기)하는 등 관리하는 개인화된 페이지입니다.</p>
            <ul>
                <li><strong>표시 정보:</strong>
                    <ul>
                        <li><strong>픽패스 별칭:</strong> 사용자가 직접 설정 가능 (예: '뉴욕 5일 정복')</li>
                        <li><strong>사용 현황:</strong> 총 PICK 수 대비 사용한 PICK 수 (예: 5/8)</li>
                        <li><strong>유효 기간:</strong> 패스 활성화 마감일 및 최초 사용 후 만료일</li>
                        <li><strong>포함된 상품 목록:</strong> 사용자가 선택한 상품 리스트</li>
                        <li><strong>패스 상태:</strong> Active, Partially Used, Expired 등</li>
                    </ul>
                </li>
                <li><strong>주요 액션:</strong>
                    <ul>
                        <li>상품 선택/담기 페이지로 이동</li>
                        <li>업그레이드/다운그레이드</li>
                        <li>환불 요청</li>
                    </ul>
                </li>
            </ul>

            <h3 id="screen-selection">1.3. 상품 선택 및 담기 페이지</h3>
            <p>구매한 픽패스로 이용할 상품(어트랙션, 투어 등)을 탐색하고 선택하는 페이지입니다.</p>
            <p>내용 추가 예정</p>
        </section>

        <section class="section">
            <h2 id="user-flow">2. 사용자 플로우 및 인터랙션</h2>
            
            <h3 id="flow-purchase">2.1. 구매 플로우</h3>
            <table>
                <thead><tr><th>단계</th><th>설명</th></tr></thead>
                <tbody>
                    <tr><td>1. 코드 구매</td><td>원하는 PICK 개수, 성인/어린이 구분, 프리미엄 플러스 옵션 여부 선택 후 결제</td></tr>
                    <tr><td>2. 상품 선택</td><td>발급된 코드로 원하는 상품 자유 선택 (추가 비용이 있을 경우 추가 비용 결제)</td></tr>
                    <tr><td>3. 티켓 수령</td><td>선택 완료 후 이메일로 e-ticket 즉시 발송 (일부 예약 상품은 일정 조정 필요)</td></tr>
                    <tr><td>4. 현장 이용</td><td>QR/e-ticket 제시로 입장, 예약필요 상품은 안내에 따라 이용</td></tr>
                </tbody>
            </table>

            <h3 id="flow-selection">2.2. 상품 선택 및 예약 플로우</h3>
            <p>내용 추가 예정</p>

            <h3 id="flow-upgrade">2.3. 업그레이드/다운그레이드/환불 플로우</h3>
            <h4>업그레이드</h4>
            <ul>
                <li><strong>조건:</strong> 잔여 PICK이 1개 이상 있고, 구매 후 90일 이내일 때 가능.</li>
                <li><strong>동작:</strong> 상위 PICK 상품과의 차액 결제 후, 총 PICK 수 증가.</li>
            </ul>
            <h4>다운그레이드</h4>
            <ul>
                <li><strong>조건:</strong> 패스를 한 번도 사용하지 않은 '이용 전' 상태에서만 가능.</li>
                <li><strong>동작:</strong> 하위 PICK 상품과의 차액에서 수수료($1)를 제외한 금액 환불.</li>
            </ul>
            <h4>환불</h4>
            <ul>
                <li><strong>미사용 전액 환불:</strong> 구매 후 365일 이내, 사용 내역이 없을 경우.</li>
                <li><strong>부분 사용 환불:</strong> 최초 사용일 기준 30일 이내, 사용하고 남은 PICK에 대해 환불.</li>
            </ul>
        </section>

        <section class="section">
            <h2 id="ui-components">3. 주요 UI 컴포넌트 명세</h2>
            <h3 id="ui-pass-card">3.1. 픽패스 카드</h3>
            <p>'내 픽패스 관리 페이지'에 표시되는 개별 픽패스 정보 카드입니다.</p>
            <p>내용 추가 예정</p>

            <h3 id="ui-product-list">3.2. 상품 리스트 및 필터</h3>
            <p>'상품 선택 및 담기 페이지'의 핵심 요소로, 사용자가 원하는 상품을 쉽게 찾을 수 있도록 도와야 합니다.</p>
            <p>내용 추가 예정</p>

            <h3 id="ui-payment-display">3.3. 가격 및 결제 정보 표시</h3>
            <p>내용 추가 예정</p>
        </section>

        <section class="section">
            <h2 id="api-integration">4. API 연동</h2>
            <div class="info-box"><p><strong>참고:</strong> 아래 API 엔드포인트는 백엔드 API 명세서를 기반으로 추정한 예시이며, 실제 개발 시 변경될 수 있습니다.</p></div>
            
            <h3 id="api-endpoints">4.1. 필요한 API 엔드포인트 리스트 (사용자향)</h3>
            <ul>
                <li><code>GET /api/pickpass/policies/{city_code}</code>: 특정 도시의 픽패스 정책(가격, 옵션 등) 조회</li>
                <li><code>GET /api/products?city_code={city_code}</code>: 특정 도시에서 이용 가능한 상품 목록 조회</li>
                <li><code>GET /api/users/me/pickpasses</code>: 내가 구매한 픽패스 목록 조회</li>
                <li><code>GET /api/users/me/pickpasses/{pickpass_id}</code>: 특정 픽패스의 상세 정보 및 선택한 상품 내역 조회</li>
                <li><code>POST /api/orders</code>: 신규 픽패스 주문(결제) 생성</li>
                <li><code>POST /api/pickpasses/{pickpass_id}/selections</code>: 특정 픽패스에 이용할 상품 추가(선택)</li>
                <li><code>POST /api/pickpasses/{pickpass_id}/upgrade</code>: 픽패스 업그레이드</li>
            </ul>

            <h3 id="api-models">4.2. 주요 데이터 모델 (Frontend)</h3>
            <h4>PickPass (내 픽패스 정보)</h4>
            <pre><code>
{
  "pickpass_id": "PP-20251014-000342",
  "nickname": "뉴욕 5일 정복",
  "city": "New York",
  "pick_count_total": 8,
  "pick_count_used": 5,
  "type": "Adult",
  "is_premium_plus": true,
  "status": "Active",
  "expire_at": "2026-10-14T00:00:00Z",
  "selections": [
    {
      "product_name": "Summit One Vanderbilt",
      "status": "Used",
      "used_at": "2025-09-01"
    },
    {
      "product_name": "Statue of Liberty Cruise",
      "status": "Selected",
      "used_at": null
    }
  ]
}
            </code></pre>
            <h4>Product (선택 가능 상품)</h4>
            <p>내용 추가 예정</p>
        </section>

        <section class="section">
            <h2 id="state-management">5. 상태 관리</h2>
            <h3 id="state-auth">5.1. 사용자 인증 상태</h3>
            <p>내용 추가 예정</p>

            <h3 id="state-pass-data">5.2. 픽패스 데이터 상태</h3>
            <p>내용 추가 예정</p>

            <h3 id="state-order">5.3. 주문 및 결제 상태</h3>
            <p>사용자 주문 플로우에 따른 상태 다이어그램입니다.</p>
            <pre><code>
[Cart] → [Pending Payment] → [Paid] → [Active Pass]
   │             │             │
   │             │             └─> [Cancelled]
   │             └─> [Failed]
   └─> [Abandoned]

[Active Pass]
   ├─> [Partially Used]
   │        │
   │        ├─> [Fully Used]
   │        ├─> [Refunded]
   │        └─> [Expired]
   └─> [Refunded]
            </code></pre>
        </section>

        <section class="section">
            <h2 id="changelog">6. 변경 이력</h2>
            <div class="changelog-item">
                <p><strong>v1.0</strong> (2025-10-15 14:30 KST)</p>
                <ul>
                    <li>프론트엔드 개발 사양 문서 최초 생성</li>
                    <li>원본 기획안을 바탕으로 목차 구조화 및 내용 재구성</li>
                    <li>UI/UX, 사용자 플로우, API 연동, 상태 관리 등 개발에 필요한 섹션 정의</li>
                </ul>
            </div>
        </section>

        <footer>
            <p>© 2025 Athome Trip. All rights reserved.</p>
        </footer>
    </div>
</body>
</html>
